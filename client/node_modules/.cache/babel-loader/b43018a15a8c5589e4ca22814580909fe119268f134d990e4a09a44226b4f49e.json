{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mtoporek\\\\Documents\\\\studia\\\\serwisy e-learningowe\\\\zaliczenie\\\\client\\\\src\\\\context\\\\TranslationContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TranslationContext = /*#__PURE__*/createContext();\nexport const useTranslation = () => {\n  _s();\n  const context = useContext(TranslationContext);\n  if (!context) {\n    throw new Error('useTranslation must be used within a TranslationProvider');\n  }\n  return context;\n};\n_s(useTranslation, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const TranslationProvider = ({\n  children\n}) => {\n  _s2();\n  const [currentLanguage, setCurrentLanguage] = useState('pl');\n  const [translations, setTranslations] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [updateKey, setUpdateKey] = useState(0); // Force re-render\n  const [translationCache, setTranslationCache] = useState({}); // Cache tumacze\n\n  // Dostpne jzyki\n  const availableLanguages = [{\n    code: 'pl',\n    name: 'Polski',\n    flag: '叼'\n  }, {\n    code: 'en',\n    name: 'English',\n    flag: '吼'\n  }, {\n    code: 'de',\n    name: 'Deutsch',\n    flag: ''\n  }, {\n    code: 'es',\n    name: 'Espa帽ol',\n    flag: ''\n  }, {\n    code: 'fr',\n    name: 'Fran莽ais',\n    flag: ''\n  }];\n\n  // Sownik tekst贸w do tumaczenia - polskie teksty jako klucze\n  const textsToTranslate = {\n    // Nawigacja\n    'QuizMaster': 'QuizMaster',\n    'Strona g贸wna': 'Strona g贸wna',\n    'Przegldaj quizy': 'Przegldaj quizy',\n    'Utw贸rz quiz': 'Utw贸rz quiz',\n    'Moje Quizy': 'Moje Quizy',\n    'Wyniki': 'Wyniki',\n    'Profil': 'Profil',\n    'Zaloguj': 'Zaloguj',\n    'Zarejestruj': 'Zarejestruj',\n    'Wyloguj': 'Wyloguj',\n    'Logowanie...': 'Logowanie...',\n    'Rejestracja...': 'Rejestracja...',\n    // Strona g贸wna\n    'Nowoczesna platforma e-learningowa do rozwizywania i tworzenia quiz贸w.': 'Nowoczesna platforma e-learningowa do rozwizywania i tworzenia quiz贸w.',\n    'Ucz si, sprawdzaj wiedz i rywalizuj z innymi!': 'Ucz si, sprawdzaj wiedz i rywalizuj z innymi!',\n    'Dostpne po polsku i angielsku.': 'Dostpne po polsku i angielsku.',\n    'Utw贸rz wasny quiz': 'Utw贸rz wasny quiz',\n    // Lista quiz贸w\n    'Dostpne quizy': 'Dostpne quizy',\n    'Wszystkie jzyki': 'Wszystkie jzyki',\n    'Polski': 'Polski',\n    'Angielski': 'Angielski',\n    'Wszystkie kategorie': 'Wszystkie kategorie',\n    'Wszystkie poziomy': 'Wszystkie poziomy',\n    'atwy': 'atwy',\n    'redni': 'redni',\n    'Trudny': 'Trudny',\n    'adowanie quiz贸w...': 'adowanie quiz贸w...',\n    'Bd podczas pobierania quiz贸w.': 'Bd podczas pobierania quiz贸w.',\n    'Brak quiz贸w do wywietlenia.': 'Brak quiz贸w do wywietlenia.',\n    'Autor': 'Autor',\n    'Pytania': 'Pytania',\n    'Poziom': 'Poziom',\n    'Jzyk': 'Jzyk',\n    'Zobacz quiz': 'Zobacz quiz',\n    // Tworzenie quizu\n    'Stw贸rz nowy quiz': 'Stw贸rz nowy quiz',\n    'Tytu quizu': 'Tytu quizu',\n    'Opis quizu': 'Opis quizu',\n    'Kategoria': 'Kategoria',\n    'Poziom trudnoci': 'Poziom trudnoci',\n    'Jzyk quizu': 'Jzyk quizu',\n    'Dodaj pytanie': 'Dodaj pytanie',\n    'Usu pytanie': 'Usu pytanie',\n    'Pytanie': 'Pytanie',\n    'Typ pytania': 'Typ pytania',\n    'Pojedynczy wyb贸r': 'Pojedynczy wyb贸r',\n    'Wielokrotny wyb贸r': 'Wielokrotny wyb贸r',\n    'Opcje': 'Opcje',\n    'Odpowied藕': 'Odpowied藕',\n    'Poprawna odpowied藕': 'Poprawna odpowied藕',\n    'Poprawne odpowiedzi': 'Poprawne odpowiedzi',\n    'Bd podczas tworzenia quizu.': 'Bd podczas tworzenia quizu.',\n    // Szczeg贸y quizu\n    'adowanie quizu...': 'adowanie quizu...',\n    'Nie znaleziono quizu.': 'Nie znaleziono quizu.',\n    'Liczba pyta': 'Liczba pyta',\n    'Rozpocznij quiz': 'Rozpocznij quiz',\n    'Usu quiz': 'Usu quiz',\n    'Usuwanie...': 'Usuwanie...',\n    'Czy na pewno chcesz usun ten quiz? Tej operacji nie mo偶na cofn.': 'Czy na pewno chcesz usun ten quiz? Tej operacji nie mo偶na cofn.',\n    'Bd podczas usuwania quizu.': 'Bd podczas usuwania quizu.',\n    // Rozwizywanie quizu\n    'Pozostay czas': 'Pozostay czas',\n    'Czas min!': 'Czas min!',\n    'Zakocz i sprawd藕 wynik': 'Zakocz i sprawd藕 wynik',\n    'Tw贸j wynik': 'Tw贸j wynik',\n    'Czas rozwizania': 'Czas rozwizania',\n    'sekund': 'sekund',\n    'Zobacz swoje wyniki': 'Zobacz swoje wyniki',\n    // Wyniki\n    'Twoje wyniki': 'Twoje wyniki',\n    'adowanie wynik贸w...': 'adowanie wynik贸w...',\n    'Nie masz jeszcze 偶adnych wynik贸w': 'Nie masz jeszcze 偶adnych wynik贸w',\n    'Rozpocznij rozwizywanie quiz贸w, aby zobaczy swoje wyniki!': 'Rozpocznij rozwizywanie quiz贸w, aby zobaczy swoje wyniki!',\n    'Wynik': 'Wynik',\n    'Procent': 'Procent',\n    'Czas': 'Czas',\n    'Data': 'Data',\n    'Godzina': 'Godzina',\n    // Profil\n    'Tw贸j profil': 'Tw贸j profil',\n    'Nazwa u偶ytkownika': 'Nazwa u偶ytkownika',\n    'E-mail': 'E-mail',\n    'Quizy rozwizane': 'Quizy rozwizane',\n    'redni wynik': 'redni wynik',\n    'czny czas rozwizywania': 'czny czas rozwizywania',\n    'Unikalnych quiz贸w ukoczonych': 'Unikalnych quiz贸w ukoczonych',\n    'adowanie statystyk...': 'adowanie statystyk...',\n    'Brak statystyk do wywietlenia.': 'Brak statystyk do wywietlenia.',\n    // Moje quizy\n    'Nie masz jeszcze 偶adnych quiz贸w': 'Nie masz jeszcze 偶adnych quiz贸w',\n    'Utw贸rz sw贸j pierwszy quiz i udostpnij go innym!': 'Utw贸rz sw贸j pierwszy quiz i udostpnij go innym!',\n    'Utw贸rz pierwszy quiz': 'Utw贸rz pierwszy quiz',\n    'Podgld': 'Podgld',\n    'Utworzono': 'Utworzono',\n    // Logowanie/Rejestracja\n    'Haso': 'Haso',\n    'Zaloguj si': 'Zaloguj si',\n    'Zarejestruj si': 'Zarejestruj si',\n    'Nie masz konta?': 'Nie masz konta?',\n    'Masz ju偶 konto?': 'Masz ju偶 konto?',\n    'Zarejestruj si tutaj': 'Zarejestruj si tutaj',\n    'Zaloguj si tutaj': 'Zaloguj si tutaj',\n    'Bd logowania': 'Bd logowania',\n    'Bd rejestracji': 'Bd rejestracji',\n    'U偶ytkownik ju偶 istnieje': 'U偶ytkownik ju偶 istnieje',\n    'Nieprawidowe dane logowania': 'Nieprawidowe dane logowania',\n    // Og贸lne\n    'Bd': 'Bd',\n    'Sukces': 'Sukces',\n    'Anuluj': 'Anuluj',\n    'Zapisz': 'Zapisz',\n    'Edytuj': 'Edytuj',\n    'Tak': 'Tak',\n    'Nie': 'Nie',\n    'OK': 'OK',\n    'Zamknij': 'Zamknij'\n  };\n  const translateText = async (text, targetLang) => {\n    if (!text || targetLang === 'pl') return text;\n\n    // Sprawd藕 cache\n    const cacheKey = `${text}_${targetLang}`;\n    if (translationCache[cacheKey]) {\n      return translationCache[cacheKey];\n    }\n    try {\n      const response = await axios.post('/api/translate', {\n        text,\n        targetLanguage: targetLang\n      });\n      const translatedText = response.data.translatedText;\n\n      // Zapisz w cache\n      setTranslationCache(prev => ({\n        ...prev,\n        [cacheKey]: translatedText\n      }));\n      return translatedText;\n    } catch (error) {\n      console.error('Translation error:', error);\n      return text; // Zwr贸 oryginalny tekst w przypadku bdu\n    }\n  };\n  const changeLanguage = async newLanguage => {\n    if (newLanguage === currentLanguage) return;\n    setIsLoading(true);\n    try {\n      if (newLanguage === 'pl') {\n        // Dla polskiego ustawiamy pusty obiekt tumacze\n        setTranslations({});\n      } else {\n        // Dla innych jzyk贸w tumacz wszystkie teksty\n        const newTranslations = {};\n        for (const [key, polishText] of Object.entries(textsToTranslate)) {\n          newTranslations[key] = await translateText(polishText, newLanguage);\n        }\n        setTranslations(newTranslations);\n      }\n      setCurrentLanguage(newLanguage);\n      localStorage.setItem('appLanguage', newLanguage);\n      setUpdateKey(prevKey => prevKey + 1);\n    } catch (error) {\n      console.error('Language change error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const t = key => {\n    if (currentLanguage === 'pl') {\n      return textsToTranslate[key] || key;\n    }\n    return translations[key] || textsToTranslate[key] || key;\n  };\n  useEffect(() => {\n    // Sprawd藕 zapisany jzyk lub ustaw polski jako domylny\n    let savedLanguage = localStorage.getItem('appLanguage');\n    if (!savedLanguage) {\n      savedLanguage = 'pl';\n      localStorage.setItem('appLanguage', 'pl');\n    }\n    setCurrentLanguage(savedLanguage);\n\n    // Dla polskiego ustawiamy pusty obiekt tumacze\n    if (savedLanguage === 'pl') {\n      setTranslations({});\n    } else {\n      // Dla innych jzyk贸w adujemy tumaczenia\n      const loadTranslations = async () => {\n        setIsLoading(true);\n        try {\n          const newTranslations = {};\n          for (const [key, polishText] of Object.entries(textsToTranslate)) {\n            newTranslations[key] = await translateText(polishText, savedLanguage);\n          }\n          setTranslations(newTranslations);\n        } catch (error) {\n          console.error('Initial translation loading error:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n      loadTranslations();\n    }\n  }, []);\n\n  // Tumaczenie quizu (tytu, opis, pytania, opcje)\n  const translateQuiz = async (quiz, targetLang) => {\n    if (!quiz || targetLang === quiz.language) return quiz;\n    const translatedQuiz = {\n      ...quiz\n    };\n    try {\n      // Tumacz tytu i opis\n      translatedQuiz.title = await translateText(quiz.title, targetLang);\n      translatedQuiz.description = await translateText(quiz.description, targetLang);\n\n      // Tumacz pytania i opcje\n      translatedQuiz.questions = await Promise.all(quiz.questions.map(async q => ({\n        ...q,\n        question: await translateText(q.question, targetLang),\n        options: await Promise.all(q.options.map(opt => translateText(opt, targetLang)))\n      })));\n      translatedQuiz.language = targetLang;\n    } catch (error) {\n      console.error('Quiz translation error:', error);\n    }\n    return translatedQuiz;\n  };\n\n  // Tumaczenie listy quiz贸w\n  const translateQuizList = async (quizzes, targetLang) => {\n    if (!quizzes || targetLang === 'pl') return quizzes;\n    return await Promise.all(quizzes.map(async quiz => ({\n      ...quiz,\n      title: await translateText(quiz.title, targetLang),\n      description: await translateText(quiz.description, targetLang),\n      category: await translateText(quiz.category, targetLang)\n    })));\n  };\n  const value = {\n    currentLanguage,\n    changeLanguage,\n    t,\n    isLoading,\n    translateQuiz,\n    translateQuizList,\n    availableLanguages,\n    updateKey\n  };\n  return /*#__PURE__*/_jsxDEV(TranslationContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n};\n_s2(TranslationProvider, \"ckuiuJVro7U3+6lQXlIO2K8Twb4=\");\n_c = TranslationProvider;\nvar _c;\n$RefreshReg$(_c, \"TranslationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsxDEV","_jsxDEV","TranslationContext","useTranslation","_s","context","Error","TranslationProvider","children","_s2","currentLanguage","setCurrentLanguage","translations","setTranslations","isLoading","setIsLoading","updateKey","setUpdateKey","translationCache","setTranslationCache","availableLanguages","code","name","flag","textsToTranslate","translateText","text","targetLang","cacheKey","response","post","targetLanguage","translatedText","data","prev","error","console","changeLanguage","newLanguage","newTranslations","key","polishText","Object","entries","localStorage","setItem","prevKey","t","savedLanguage","getItem","loadTranslations","translateQuiz","quiz","language","translatedQuiz","title","description","questions","Promise","all","map","q","question","options","opt","translateQuizList","quizzes","category","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mtoporek/Documents/studia/serwisy e-learningowe/zaliczenie/client/src/context/TranslationContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst TranslationContext = createContext();\r\n\r\nexport const useTranslation = () => {\r\n  const context = useContext(TranslationContext);\r\n  if (!context) {\r\n    throw new Error('useTranslation must be used within a TranslationProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const TranslationProvider = ({ children }) => {\r\n  const [currentLanguage, setCurrentLanguage] = useState('pl');\r\n  const [translations, setTranslations] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [updateKey, setUpdateKey] = useState(0); // Force re-render\r\n  const [translationCache, setTranslationCache] = useState({}); // Cache tumacze\r\n\r\n  // Dostpne jzyki\r\n  const availableLanguages = [\r\n    { code: 'pl', name: 'Polski', flag: '叼' },\r\n    { code: 'en', name: 'English', flag: '吼' },\r\n    { code: 'de', name: 'Deutsch', flag: '' },\r\n    { code: 'es', name: 'Espa帽ol', flag: '' },\r\n    { code: 'fr', name: 'Fran莽ais', flag: '' }\r\n  ];\r\n\r\n  // Sownik tekst贸w do tumaczenia - polskie teksty jako klucze\r\n  const textsToTranslate = {\r\n    // Nawigacja\r\n    'QuizMaster': 'QuizMaster',\r\n    'Strona g贸wna': 'Strona g贸wna',\r\n    'Przegldaj quizy': 'Przegldaj quizy',\r\n    'Utw贸rz quiz': 'Utw贸rz quiz',\r\n    'Moje Quizy': 'Moje Quizy',\r\n    'Wyniki': 'Wyniki',\r\n    'Profil': 'Profil',\r\n    'Zaloguj': 'Zaloguj',\r\n    'Zarejestruj': 'Zarejestruj',\r\n    'Wyloguj': 'Wyloguj',\r\n    'Logowanie...': 'Logowanie...',\r\n    'Rejestracja...': 'Rejestracja...',\r\n    \r\n    // Strona g贸wna\r\n    'Nowoczesna platforma e-learningowa do rozwizywania i tworzenia quiz贸w.': 'Nowoczesna platforma e-learningowa do rozwizywania i tworzenia quiz贸w.',\r\n    'Ucz si, sprawdzaj wiedz i rywalizuj z innymi!': 'Ucz si, sprawdzaj wiedz i rywalizuj z innymi!',\r\n    'Dostpne po polsku i angielsku.': 'Dostpne po polsku i angielsku.',\r\n    'Utw贸rz wasny quiz': 'Utw贸rz wasny quiz',\r\n    \r\n    // Lista quiz贸w\r\n    'Dostpne quizy': 'Dostpne quizy',\r\n    'Wszystkie jzyki': 'Wszystkie jzyki',\r\n    'Polski': 'Polski',\r\n    'Angielski': 'Angielski',\r\n    'Wszystkie kategorie': 'Wszystkie kategorie',\r\n    'Wszystkie poziomy': 'Wszystkie poziomy',\r\n    'atwy': 'atwy',\r\n    'redni': 'redni',\r\n    'Trudny': 'Trudny',\r\n    'adowanie quiz贸w...': 'adowanie quiz贸w...',\r\n    'Bd podczas pobierania quiz贸w.': 'Bd podczas pobierania quiz贸w.',\r\n    'Brak quiz贸w do wywietlenia.': 'Brak quiz贸w do wywietlenia.',\r\n    'Autor': 'Autor',\r\n    'Pytania': 'Pytania',\r\n    'Poziom': 'Poziom',\r\n    'Jzyk': 'Jzyk',\r\n    'Zobacz quiz': 'Zobacz quiz',\r\n    \r\n    // Tworzenie quizu\r\n    'Stw贸rz nowy quiz': 'Stw贸rz nowy quiz',\r\n    'Tytu quizu': 'Tytu quizu',\r\n    'Opis quizu': 'Opis quizu',\r\n    'Kategoria': 'Kategoria',\r\n    'Poziom trudnoci': 'Poziom trudnoci',\r\n    'Jzyk quizu': 'Jzyk quizu',\r\n    'Dodaj pytanie': 'Dodaj pytanie',\r\n    'Usu pytanie': 'Usu pytanie',\r\n    'Pytanie': 'Pytanie',\r\n    'Typ pytania': 'Typ pytania',\r\n    'Pojedynczy wyb贸r': 'Pojedynczy wyb贸r',\r\n    'Wielokrotny wyb贸r': 'Wielokrotny wyb贸r',\r\n    'Opcje': 'Opcje',\r\n    'Odpowied藕': 'Odpowied藕',\r\n    'Poprawna odpowied藕': 'Poprawna odpowied藕',\r\n    'Poprawne odpowiedzi': 'Poprawne odpowiedzi',\r\n    'Bd podczas tworzenia quizu.': 'Bd podczas tworzenia quizu.',\r\n    \r\n    // Szczeg贸y quizu\r\n    'adowanie quizu...': 'adowanie quizu...',\r\n    'Nie znaleziono quizu.': 'Nie znaleziono quizu.',\r\n    'Liczba pyta': 'Liczba pyta',\r\n    'Rozpocznij quiz': 'Rozpocznij quiz',\r\n    'Usu quiz': 'Usu quiz',\r\n    'Usuwanie...': 'Usuwanie...',\r\n    'Czy na pewno chcesz usun ten quiz? Tej operacji nie mo偶na cofn.': 'Czy na pewno chcesz usun ten quiz? Tej operacji nie mo偶na cofn.',\r\n    'Bd podczas usuwania quizu.': 'Bd podczas usuwania quizu.',\r\n    \r\n    // Rozwizywanie quizu\r\n    'Pozostay czas': 'Pozostay czas',\r\n    'Czas min!': 'Czas min!',\r\n    'Zakocz i sprawd藕 wynik': 'Zakocz i sprawd藕 wynik',\r\n    'Tw贸j wynik': 'Tw贸j wynik',\r\n    'Czas rozwizania': 'Czas rozwizania',\r\n    'sekund': 'sekund',\r\n    'Zobacz swoje wyniki': 'Zobacz swoje wyniki',\r\n    \r\n    // Wyniki\r\n    'Twoje wyniki': 'Twoje wyniki',\r\n    'adowanie wynik贸w...': 'adowanie wynik贸w...',\r\n    'Nie masz jeszcze 偶adnych wynik贸w': 'Nie masz jeszcze 偶adnych wynik贸w',\r\n    'Rozpocznij rozwizywanie quiz贸w, aby zobaczy swoje wyniki!': 'Rozpocznij rozwizywanie quiz贸w, aby zobaczy swoje wyniki!',\r\n    'Wynik': 'Wynik',\r\n    'Procent': 'Procent',\r\n    'Czas': 'Czas',\r\n    'Data': 'Data',\r\n    'Godzina': 'Godzina',\r\n    \r\n    // Profil\r\n    'Tw贸j profil': 'Tw贸j profil',\r\n    'Nazwa u偶ytkownika': 'Nazwa u偶ytkownika',\r\n    'E-mail': 'E-mail',\r\n    'Quizy rozwizane': 'Quizy rozwizane',\r\n    'redni wynik': 'redni wynik',\r\n    'czny czas rozwizywania': 'czny czas rozwizywania',\r\n    'Unikalnych quiz贸w ukoczonych': 'Unikalnych quiz贸w ukoczonych',\r\n    'adowanie statystyk...': 'adowanie statystyk...',\r\n    'Brak statystyk do wywietlenia.': 'Brak statystyk do wywietlenia.',\r\n    \r\n    // Moje quizy\r\n    'Nie masz jeszcze 偶adnych quiz贸w': 'Nie masz jeszcze 偶adnych quiz贸w',\r\n    'Utw贸rz sw贸j pierwszy quiz i udostpnij go innym!': 'Utw贸rz sw贸j pierwszy quiz i udostpnij go innym!',\r\n    'Utw贸rz pierwszy quiz': 'Utw贸rz pierwszy quiz',\r\n    'Podgld': 'Podgld',\r\n    'Utworzono': 'Utworzono',\r\n    \r\n    // Logowanie/Rejestracja\r\n    'Haso': 'Haso',\r\n    'Zaloguj si': 'Zaloguj si',\r\n    'Zarejestruj si': 'Zarejestruj si',\r\n    'Nie masz konta?': 'Nie masz konta?',\r\n    'Masz ju偶 konto?': 'Masz ju偶 konto?',\r\n    'Zarejestruj si tutaj': 'Zarejestruj si tutaj',\r\n    'Zaloguj si tutaj': 'Zaloguj si tutaj',\r\n    'Bd logowania': 'Bd logowania',\r\n    'Bd rejestracji': 'Bd rejestracji',\r\n    'U偶ytkownik ju偶 istnieje': 'U偶ytkownik ju偶 istnieje',\r\n    'Nieprawidowe dane logowania': 'Nieprawidowe dane logowania',\r\n    \r\n    // Og贸lne\r\n    'Bd': 'Bd',\r\n    'Sukces': 'Sukces',\r\n    'Anuluj': 'Anuluj',\r\n    'Zapisz': 'Zapisz',\r\n    'Edytuj': 'Edytuj',\r\n    'Tak': 'Tak',\r\n    'Nie': 'Nie',\r\n    'OK': 'OK',\r\n    'Zamknij': 'Zamknij'\r\n  };\r\n\r\n  const translateText = async (text, targetLang) => {\r\n    if (!text || targetLang === 'pl') return text;\r\n    \r\n    // Sprawd藕 cache\r\n    const cacheKey = `${text}_${targetLang}`;\r\n    if (translationCache[cacheKey]) {\r\n      return translationCache[cacheKey];\r\n    }\r\n    \r\n    try {\r\n      const response = await axios.post('/api/translate', {\r\n        text,\r\n        targetLanguage: targetLang\r\n      });\r\n      const translatedText = response.data.translatedText;\r\n      \r\n      // Zapisz w cache\r\n      setTranslationCache(prev => ({\r\n        ...prev,\r\n        [cacheKey]: translatedText\r\n      }));\r\n      \r\n      return translatedText;\r\n    } catch (error) {\r\n      console.error('Translation error:', error);\r\n      return text; // Zwr贸 oryginalny tekst w przypadku bdu\r\n    }\r\n  };\r\n\r\n  const changeLanguage = async (newLanguage) => {\r\n    if (newLanguage === currentLanguage) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      if (newLanguage === 'pl') {\r\n        // Dla polskiego ustawiamy pusty obiekt tumacze\r\n        setTranslations({});\r\n      } else {\r\n        // Dla innych jzyk贸w tumacz wszystkie teksty\r\n        const newTranslations = {};\r\n        for (const [key, polishText] of Object.entries(textsToTranslate)) {\r\n          newTranslations[key] = await translateText(polishText, newLanguage);\r\n        }\r\n        setTranslations(newTranslations);\r\n      }\r\n      \r\n      setCurrentLanguage(newLanguage);\r\n      localStorage.setItem('appLanguage', newLanguage);\r\n      setUpdateKey(prevKey => prevKey + 1);\r\n    } catch (error) {\r\n      console.error('Language change error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const t = (key) => {\r\n    if (currentLanguage === 'pl') {\r\n      return textsToTranslate[key] || key;\r\n    }\r\n    return translations[key] || textsToTranslate[key] || key;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Sprawd藕 zapisany jzyk lub ustaw polski jako domylny\r\n    let savedLanguage = localStorage.getItem('appLanguage');\r\n    if (!savedLanguage) {\r\n      savedLanguage = 'pl';\r\n      localStorage.setItem('appLanguage', 'pl');\r\n    }\r\n    setCurrentLanguage(savedLanguage);\r\n    \r\n    // Dla polskiego ustawiamy pusty obiekt tumacze\r\n    if (savedLanguage === 'pl') {\r\n      setTranslations({});\r\n    } else {\r\n      // Dla innych jzyk贸w adujemy tumaczenia\r\n      const loadTranslations = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n          const newTranslations = {};\r\n          for (const [key, polishText] of Object.entries(textsToTranslate)) {\r\n            newTranslations[key] = await translateText(polishText, savedLanguage);\r\n          }\r\n          setTranslations(newTranslations);\r\n        } catch (error) {\r\n          console.error('Initial translation loading error:', error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n      loadTranslations();\r\n    }\r\n  }, []);\r\n\r\n  // Tumaczenie quizu (tytu, opis, pytania, opcje)\r\n  const translateQuiz = async (quiz, targetLang) => {\r\n    if (!quiz || targetLang === quiz.language) return quiz;\r\n    \r\n    const translatedQuiz = { ...quiz };\r\n    try {\r\n      // Tumacz tytu i opis\r\n      translatedQuiz.title = await translateText(quiz.title, targetLang);\r\n      translatedQuiz.description = await translateText(quiz.description, targetLang);\r\n      \r\n      // Tumacz pytania i opcje\r\n      translatedQuiz.questions = await Promise.all(\r\n        quiz.questions.map(async (q) => ({\r\n          ...q,\r\n          question: await translateText(q.question, targetLang),\r\n          options: await Promise.all(q.options.map(opt => translateText(opt, targetLang)))\r\n        }))\r\n      );\r\n      \r\n      translatedQuiz.language = targetLang;\r\n    } catch (error) {\r\n      console.error('Quiz translation error:', error);\r\n    }\r\n    return translatedQuiz;\r\n  };\r\n\r\n  // Tumaczenie listy quiz贸w\r\n  const translateQuizList = async (quizzes, targetLang) => {\r\n    if (!quizzes || targetLang === 'pl') return quizzes;\r\n    \r\n    return await Promise.all(\r\n      quizzes.map(async (quiz) => ({\r\n        ...quiz,\r\n        title: await translateText(quiz.title, targetLang),\r\n        description: await translateText(quiz.description, targetLang),\r\n        category: await translateText(quiz.category, targetLang)\r\n      }))\r\n    );\r\n  };\r\n\r\n  const value = {\r\n    currentLanguage,\r\n    changeLanguage,\r\n    t,\r\n    isLoading,\r\n    translateQuiz,\r\n    translateQuizList,\r\n    availableLanguages,\r\n    updateKey\r\n  };\r\n\r\n  return (\r\n    <TranslationContext.Provider value={value}>\r\n      {children}\r\n    </TranslationContext.Provider>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}