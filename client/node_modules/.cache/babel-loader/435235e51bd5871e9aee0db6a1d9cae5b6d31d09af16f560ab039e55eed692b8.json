{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mtoporek\\\\Documents\\\\studia\\\\serwisy e-learningowe\\\\zaliczenie\\\\client\\\\src\\\\context\\\\TranslationContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TranslationContext = /*#__PURE__*/createContext();\nexport const useTranslation = () => {\n  _s();\n  const context = useContext(TranslationContext);\n  if (!context) {\n    throw new Error('useTranslation must be used within a TranslationProvider');\n  }\n  return context;\n};\n_s(useTranslation, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const TranslationProvider = ({\n  children\n}) => {\n  _s2();\n  const [currentLanguage, setCurrentLanguage] = useState('pl');\n  const [translations, setTranslations] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [updateKey, setUpdateKey] = useState(0); // Force re-render\n\n  // Dostępne języki\n  const availableLanguages = [{\n    code: 'pl',\n    name: 'Polski',\n    flag: '🇵🇱'\n  }, {\n    code: 'en',\n    name: 'English',\n    flag: '🇺🇸'\n  }, {\n    code: 'de',\n    name: 'Deutsch',\n    flag: '🇩🇪'\n  }, {\n    code: 'es',\n    name: 'Español',\n    flag: '🇪🇸'\n  }, {\n    code: 'fr',\n    name: 'Français',\n    flag: '🇫🇷'\n  }];\n\n  // Słownik tekstów do tłumaczenia - polskie teksty jako klucze\n  const textsToTranslate = {\n    // Nawigacja\n    'QuizMaster': 'QuizMaster',\n    'Strona główna': 'Strona główna',\n    'Przeglądaj quizy': 'Przeglądaj quizy',\n    'Utwórz quiz': 'Utwórz quiz',\n    'Moje Quizy': 'Moje Quizy',\n    'Wyniki': 'Wyniki',\n    'Profil': 'Profil',\n    'Zaloguj': 'Zaloguj',\n    'Zarejestruj': 'Zarejestruj',\n    'Wyloguj': 'Wyloguj',\n    'Logowanie...': 'Logowanie...',\n    'Rejestracja...': 'Rejestracja...',\n    // Strona główna\n    'Nowoczesna platforma e-learningowa do rozwiązywania i tworzenia quizów.': 'Nowoczesna platforma e-learningowa do rozwiązywania i tworzenia quizów.',\n    'Ucz się, sprawdzaj wiedzę i rywalizuj z innymi!': 'Ucz się, sprawdzaj wiedzę i rywalizuj z innymi!',\n    'Dostępne po polsku i angielsku.': 'Dostępne po polsku i angielsku.',\n    'Utwórz własny quiz': 'Utwórz własny quiz',\n    // Lista quizów\n    'Dostępne quizy': 'Dostępne quizy',\n    'Wszystkie języki': 'Wszystkie języki',\n    'Polski': 'Polski',\n    'Angielski': 'Angielski',\n    'Wszystkie kategorie': 'Wszystkie kategorie',\n    'Wszystkie poziomy': 'Wszystkie poziomy',\n    'Łatwy': 'Łatwy',\n    'Średni': 'Średni',\n    'Trudny': 'Trudny',\n    'Ładowanie quizów...': 'Ładowanie quizów...',\n    'Błąd podczas pobierania quizów.': 'Błąd podczas pobierania quizów.',\n    'Brak quizów do wyświetlenia.': 'Brak quizów do wyświetlenia.',\n    'Autor': 'Autor',\n    'Pytania': 'Pytania',\n    'Poziom': 'Poziom',\n    'Język': 'Język',\n    'Zobacz quiz': 'Zobacz quiz',\n    // Tworzenie quizu\n    'Stwórz nowy quiz': 'Stwórz nowy quiz',\n    'Tytuł quizu': 'Tytuł quizu',\n    'Opis quizu': 'Opis quizu',\n    'Kategoria': 'Kategoria',\n    'Poziom trudności': 'Poziom trudności',\n    'Język quizu': 'Język quizu',\n    'Dodaj pytanie': 'Dodaj pytanie',\n    'Usuń pytanie': 'Usuń pytanie',\n    'Pytanie': 'Pytanie',\n    'Typ pytania': 'Typ pytania',\n    'Pojedynczy wybór': 'Pojedynczy wybór',\n    'Wielokrotny wybór': 'Wielokrotny wybór',\n    'Opcje': 'Opcje',\n    'Odpowiedź': 'Odpowiedź',\n    'Poprawna odpowiedź': 'Poprawna odpowiedź',\n    'Poprawne odpowiedzi': 'Poprawne odpowiedzi',\n    'Błąd podczas tworzenia quizu.': 'Błąd podczas tworzenia quizu.',\n    // Szczegóły quizu\n    'Ładowanie quizu...': 'Ładowanie quizu...',\n    'Nie znaleziono quizu.': 'Nie znaleziono quizu.',\n    'Liczba pytań': 'Liczba pytań',\n    'Rozpocznij quiz': 'Rozpocznij quiz',\n    'Usuń quiz': 'Usuń quiz',\n    'Usuwanie...': 'Usuwanie...',\n    'Czy na pewno chcesz usunąć ten quiz? Tej operacji nie można cofnąć.': 'Czy na pewno chcesz usunąć ten quiz? Tej operacji nie można cofnąć.',\n    'Błąd podczas usuwania quizu.': 'Błąd podczas usuwania quizu.',\n    // Rozwiązywanie quizu\n    'Pozostały czas': 'Pozostały czas',\n    'Czas minął!': 'Czas minął!',\n    'Zakończ i sprawdź wynik': 'Zakończ i sprawdź wynik',\n    'Twój wynik': 'Twój wynik',\n    'Czas rozwiązania': 'Czas rozwiązania',\n    'sekund': 'sekund',\n    'Zobacz swoje wyniki': 'Zobacz swoje wyniki',\n    // Wyniki\n    'Twoje wyniki': 'Twoje wyniki',\n    'Ładowanie wyników...': 'Ładowanie wyników...',\n    'Nie masz jeszcze żadnych wyników': 'Nie masz jeszcze żadnych wyników',\n    'Rozpocznij rozwiązywanie quizów, aby zobaczyć swoje wyniki!': 'Rozpocznij rozwiązywanie quizów, aby zobaczyć swoje wyniki!',\n    'Wynik': 'Wynik',\n    'Procent': 'Procent',\n    'Czas': 'Czas',\n    'Data': 'Data',\n    'Godzina': 'Godzina',\n    // Profil\n    'Twój profil': 'Twój profil',\n    'Nazwa użytkownika': 'Nazwa użytkownika',\n    'E-mail': 'E-mail',\n    'Quizy rozwiązane': 'Quizy rozwiązane',\n    'Średni wynik': 'Średni wynik',\n    'Łączny czas rozwiązywania': 'Łączny czas rozwiązywania',\n    'Unikalnych quizów ukończonych': 'Unikalnych quizów ukończonych',\n    'Ładowanie statystyk...': 'Ładowanie statystyk...',\n    'Brak statystyk do wyświetlenia.': 'Brak statystyk do wyświetlenia.',\n    // Moje quizy\n    'Nie masz jeszcze żadnych quizów': 'Nie masz jeszcze żadnych quizów',\n    'Utwórz swój pierwszy quiz i udostępnij go innym!': 'Utwórz swój pierwszy quiz i udostępnij go innym!',\n    'Utwórz pierwszy quiz': 'Utwórz pierwszy quiz',\n    'Podgląd': 'Podgląd',\n    'Utworzono': 'Utworzono',\n    // Logowanie/Rejestracja\n    'Hasło': 'Hasło',\n    'Zaloguj się': 'Zaloguj się',\n    'Zarejestruj się': 'Zarejestruj się',\n    'Nie masz konta?': 'Nie masz konta?',\n    'Masz już konto?': 'Masz już konto?',\n    'Zarejestruj się tutaj': 'Zarejestruj się tutaj',\n    'Zaloguj się tutaj': 'Zaloguj się tutaj',\n    'Błąd logowania': 'Błąd logowania',\n    'Błąd rejestracji': 'Błąd rejestracji',\n    'Użytkownik już istnieje': 'Użytkownik już istnieje',\n    'Nieprawidłowe dane logowania': 'Nieprawidłowe dane logowania',\n    // Ogólne\n    'Błąd': 'Błąd',\n    'Sukces': 'Sukces',\n    'Anuluj': 'Anuluj',\n    'Zapisz': 'Zapisz',\n    'Edytuj': 'Edytuj',\n    'Tak': 'Tak',\n    'Nie': 'Nie',\n    'OK': 'OK',\n    'Zamknij': 'Zamknij'\n  };\n  const translateText = async (text, targetLang) => {\n    if (!text || targetLang === 'pl') return text;\n    try {\n      const response = await axios.post('/api/translate', {\n        text,\n        targetLanguage: targetLang\n      });\n      return response.data.translatedText;\n    } catch (error) {\n      console.error('Translation error:', error);\n      return text; // Zwróć oryginalny tekst w przypadku błędu\n    }\n  };\n  const changeLanguage = async newLanguage => {\n    console.log('changeLanguage called with:', newLanguage, 'current:', currentLanguage);\n    if (newLanguage === currentLanguage) return;\n    setIsLoading(true);\n    try {\n      if (newLanguage === 'pl') {\n        // Dla polskiego ustawiamy pusty obiekt tłumaczeń\n        setTranslations({});\n      } else {\n        // Dla innych języków tłumacz wszystkie teksty\n        const newTranslations = {};\n        for (const [key, polishText] of Object.entries(textsToTranslate)) {\n          newTranslations[key] = await translateText(polishText, newLanguage);\n        }\n        setTranslations(newTranslations);\n      }\n      setCurrentLanguage(newLanguage);\n      localStorage.setItem('appLanguage', newLanguage);\n      setUpdateKey(prevKey => prevKey + 1);\n      console.log('Language changed to:', newLanguage);\n    } catch (error) {\n      console.error('Language change error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const t = key => {\n    console.log('t() called with key:', key, 'currentLanguage:', currentLanguage);\n    if (currentLanguage === 'pl') {\n      const result = textsToTranslate[key] || key;\n      console.log('Polish result:', result);\n      return result;\n    }\n    const result = translations[key] || textsToTranslate[key] || key;\n    console.log('Translation result:', result);\n    return result;\n  };\n  useEffect(() => {\n    // Sprawdź zapisany język lub ustaw polski jako domyślny\n    let savedLanguage = localStorage.getItem('appLanguage');\n    console.log('Initial savedLanguage:', savedLanguage);\n    if (!savedLanguage) {\n      savedLanguage = 'pl';\n      localStorage.setItem('appLanguage', 'pl');\n      console.log('Set default language to pl');\n    }\n    console.log('Setting currentLanguage to:', savedLanguage);\n    setCurrentLanguage(savedLanguage);\n\n    // Dla polskiego ustawiamy pusty obiekt tłumaczeń\n    if (savedLanguage === 'pl') {\n      console.log('Setting empty translations for Polish');\n      setTranslations({});\n    } else {\n      // Dla innych języków ładujemy tłumaczenia\n      const loadTranslations = async () => {\n        setIsLoading(true);\n        try {\n          const newTranslations = {};\n          for (const [key, polishText] of Object.entries(textsToTranslate)) {\n            newTranslations[key] = await translateText(polishText, savedLanguage);\n          }\n          console.log('Loaded translations for', savedLanguage, ':', newTranslations);\n          setTranslations(newTranslations);\n        } catch (error) {\n          console.error('Initial translation loading error:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n      loadTranslations();\n    }\n  }, []);\n\n  // Tłumaczenie quizu (tytuł, opis, pytania, opcje)\n  const translateQuiz = async (quiz, targetLang) => {\n    if (!quiz || targetLang === quiz.language) return quiz;\n    const translatedQuiz = {\n      ...quiz\n    };\n    try {\n      // Tłumacz tytuł i opis\n      translatedQuiz.title = await translateText(quiz.title, targetLang);\n      translatedQuiz.description = await translateText(quiz.description, targetLang);\n      // Tłumacz pytania i opcje\n      translatedQuiz.questions = await Promise.all(quiz.questions.map(async q => ({\n        ...q,\n        question: await translateText(q.question, targetLang),\n        options: await Promise.all(q.options.map(opt => translateText(opt, targetLang)))\n      })));\n      translatedQuiz.language = targetLang;\n    } catch (error) {\n      console.error('Quiz translation error:', error);\n    }\n    return translatedQuiz;\n  };\n  const value = {\n    currentLanguage,\n    changeLanguage,\n    t,\n    isLoading,\n    translateQuiz,\n    availableLanguages,\n    updateKey\n  };\n  return /*#__PURE__*/_jsxDEV(TranslationContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s2(TranslationProvider, \"A/pYIg8g1ytuDBi8Xv28n8Qojjs=\");\n_c = TranslationProvider;\nvar _c;\n$RefreshReg$(_c, \"TranslationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsxDEV","_jsxDEV","TranslationContext","useTranslation","_s","context","Error","TranslationProvider","children","_s2","currentLanguage","setCurrentLanguage","translations","setTranslations","isLoading","setIsLoading","updateKey","setUpdateKey","availableLanguages","code","name","flag","textsToTranslate","translateText","text","targetLang","response","post","targetLanguage","data","translatedText","error","console","changeLanguage","newLanguage","log","newTranslations","key","polishText","Object","entries","localStorage","setItem","prevKey","t","result","savedLanguage","getItem","loadTranslations","translateQuiz","quiz","language","translatedQuiz","title","description","questions","Promise","all","map","q","question","options","opt","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mtoporek/Documents/studia/serwisy e-learningowe/zaliczenie/client/src/context/TranslationContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst TranslationContext = createContext();\r\n\r\nexport const useTranslation = () => {\r\n  const context = useContext(TranslationContext);\r\n  if (!context) {\r\n    throw new Error('useTranslation must be used within a TranslationProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const TranslationProvider = ({ children }) => {\r\n  const [currentLanguage, setCurrentLanguage] = useState('pl');\r\n  const [translations, setTranslations] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [updateKey, setUpdateKey] = useState(0); // Force re-render\r\n\r\n  // Dostępne języki\r\n  const availableLanguages = [\r\n    { code: 'pl', name: 'Polski', flag: '🇵🇱' },\r\n    { code: 'en', name: 'English', flag: '🇺🇸' },\r\n    { code: 'de', name: 'Deutsch', flag: '🇩🇪' },\r\n    { code: 'es', name: 'Español', flag: '🇪🇸' },\r\n    { code: 'fr', name: 'Français', flag: '🇫🇷' }\r\n  ];\r\n\r\n  // Słownik tekstów do tłumaczenia - polskie teksty jako klucze\r\n  const textsToTranslate = {\r\n    // Nawigacja\r\n    'QuizMaster': 'QuizMaster',\r\n    'Strona główna': 'Strona główna',\r\n    'Przeglądaj quizy': 'Przeglądaj quizy',\r\n    'Utwórz quiz': 'Utwórz quiz',\r\n    'Moje Quizy': 'Moje Quizy',\r\n    'Wyniki': 'Wyniki',\r\n    'Profil': 'Profil',\r\n    'Zaloguj': 'Zaloguj',\r\n    'Zarejestruj': 'Zarejestruj',\r\n    'Wyloguj': 'Wyloguj',\r\n    'Logowanie...': 'Logowanie...',\r\n    'Rejestracja...': 'Rejestracja...',\r\n    \r\n    // Strona główna\r\n    'Nowoczesna platforma e-learningowa do rozwiązywania i tworzenia quizów.': 'Nowoczesna platforma e-learningowa do rozwiązywania i tworzenia quizów.',\r\n    'Ucz się, sprawdzaj wiedzę i rywalizuj z innymi!': 'Ucz się, sprawdzaj wiedzę i rywalizuj z innymi!',\r\n    'Dostępne po polsku i angielsku.': 'Dostępne po polsku i angielsku.',\r\n    'Utwórz własny quiz': 'Utwórz własny quiz',\r\n    \r\n    // Lista quizów\r\n    'Dostępne quizy': 'Dostępne quizy',\r\n    'Wszystkie języki': 'Wszystkie języki',\r\n    'Polski': 'Polski',\r\n    'Angielski': 'Angielski',\r\n    'Wszystkie kategorie': 'Wszystkie kategorie',\r\n    'Wszystkie poziomy': 'Wszystkie poziomy',\r\n    'Łatwy': 'Łatwy',\r\n    'Średni': 'Średni',\r\n    'Trudny': 'Trudny',\r\n    'Ładowanie quizów...': 'Ładowanie quizów...',\r\n    'Błąd podczas pobierania quizów.': 'Błąd podczas pobierania quizów.',\r\n    'Brak quizów do wyświetlenia.': 'Brak quizów do wyświetlenia.',\r\n    'Autor': 'Autor',\r\n    'Pytania': 'Pytania',\r\n    'Poziom': 'Poziom',\r\n    'Język': 'Język',\r\n    'Zobacz quiz': 'Zobacz quiz',\r\n    \r\n    // Tworzenie quizu\r\n    'Stwórz nowy quiz': 'Stwórz nowy quiz',\r\n    'Tytuł quizu': 'Tytuł quizu',\r\n    'Opis quizu': 'Opis quizu',\r\n    'Kategoria': 'Kategoria',\r\n    'Poziom trudności': 'Poziom trudności',\r\n    'Język quizu': 'Język quizu',\r\n    'Dodaj pytanie': 'Dodaj pytanie',\r\n    'Usuń pytanie': 'Usuń pytanie',\r\n    'Pytanie': 'Pytanie',\r\n    'Typ pytania': 'Typ pytania',\r\n    'Pojedynczy wybór': 'Pojedynczy wybór',\r\n    'Wielokrotny wybór': 'Wielokrotny wybór',\r\n    'Opcje': 'Opcje',\r\n    'Odpowiedź': 'Odpowiedź',\r\n    'Poprawna odpowiedź': 'Poprawna odpowiedź',\r\n    'Poprawne odpowiedzi': 'Poprawne odpowiedzi',\r\n    'Błąd podczas tworzenia quizu.': 'Błąd podczas tworzenia quizu.',\r\n    \r\n    // Szczegóły quizu\r\n    'Ładowanie quizu...': 'Ładowanie quizu...',\r\n    'Nie znaleziono quizu.': 'Nie znaleziono quizu.',\r\n    'Liczba pytań': 'Liczba pytań',\r\n    'Rozpocznij quiz': 'Rozpocznij quiz',\r\n    'Usuń quiz': 'Usuń quiz',\r\n    'Usuwanie...': 'Usuwanie...',\r\n    'Czy na pewno chcesz usunąć ten quiz? Tej operacji nie można cofnąć.': 'Czy na pewno chcesz usunąć ten quiz? Tej operacji nie można cofnąć.',\r\n    'Błąd podczas usuwania quizu.': 'Błąd podczas usuwania quizu.',\r\n    \r\n    // Rozwiązywanie quizu\r\n    'Pozostały czas': 'Pozostały czas',\r\n    'Czas minął!': 'Czas minął!',\r\n    'Zakończ i sprawdź wynik': 'Zakończ i sprawdź wynik',\r\n    'Twój wynik': 'Twój wynik',\r\n    'Czas rozwiązania': 'Czas rozwiązania',\r\n    'sekund': 'sekund',\r\n    'Zobacz swoje wyniki': 'Zobacz swoje wyniki',\r\n    \r\n    // Wyniki\r\n    'Twoje wyniki': 'Twoje wyniki',\r\n    'Ładowanie wyników...': 'Ładowanie wyników...',\r\n    'Nie masz jeszcze żadnych wyników': 'Nie masz jeszcze żadnych wyników',\r\n    'Rozpocznij rozwiązywanie quizów, aby zobaczyć swoje wyniki!': 'Rozpocznij rozwiązywanie quizów, aby zobaczyć swoje wyniki!',\r\n    'Wynik': 'Wynik',\r\n    'Procent': 'Procent',\r\n    'Czas': 'Czas',\r\n    'Data': 'Data',\r\n    'Godzina': 'Godzina',\r\n    \r\n    // Profil\r\n    'Twój profil': 'Twój profil',\r\n    'Nazwa użytkownika': 'Nazwa użytkownika',\r\n    'E-mail': 'E-mail',\r\n    'Quizy rozwiązane': 'Quizy rozwiązane',\r\n    'Średni wynik': 'Średni wynik',\r\n    'Łączny czas rozwiązywania': 'Łączny czas rozwiązywania',\r\n    'Unikalnych quizów ukończonych': 'Unikalnych quizów ukończonych',\r\n    'Ładowanie statystyk...': 'Ładowanie statystyk...',\r\n    'Brak statystyk do wyświetlenia.': 'Brak statystyk do wyświetlenia.',\r\n    \r\n    // Moje quizy\r\n    'Nie masz jeszcze żadnych quizów': 'Nie masz jeszcze żadnych quizów',\r\n    'Utwórz swój pierwszy quiz i udostępnij go innym!': 'Utwórz swój pierwszy quiz i udostępnij go innym!',\r\n    'Utwórz pierwszy quiz': 'Utwórz pierwszy quiz',\r\n    'Podgląd': 'Podgląd',\r\n    'Utworzono': 'Utworzono',\r\n    \r\n    // Logowanie/Rejestracja\r\n    'Hasło': 'Hasło',\r\n    'Zaloguj się': 'Zaloguj się',\r\n    'Zarejestruj się': 'Zarejestruj się',\r\n    'Nie masz konta?': 'Nie masz konta?',\r\n    'Masz już konto?': 'Masz już konto?',\r\n    'Zarejestruj się tutaj': 'Zarejestruj się tutaj',\r\n    'Zaloguj się tutaj': 'Zaloguj się tutaj',\r\n    'Błąd logowania': 'Błąd logowania',\r\n    'Błąd rejestracji': 'Błąd rejestracji',\r\n    'Użytkownik już istnieje': 'Użytkownik już istnieje',\r\n    'Nieprawidłowe dane logowania': 'Nieprawidłowe dane logowania',\r\n    \r\n    // Ogólne\r\n    'Błąd': 'Błąd',\r\n    'Sukces': 'Sukces',\r\n    'Anuluj': 'Anuluj',\r\n    'Zapisz': 'Zapisz',\r\n    'Edytuj': 'Edytuj',\r\n    'Tak': 'Tak',\r\n    'Nie': 'Nie',\r\n    'OK': 'OK',\r\n    'Zamknij': 'Zamknij'\r\n  };\r\n\r\n  const translateText = async (text, targetLang) => {\r\n    if (!text || targetLang === 'pl') return text;\r\n    \r\n    try {\r\n      const response = await axios.post('/api/translate', {\r\n        text,\r\n        targetLanguage: targetLang\r\n      });\r\n      return response.data.translatedText;\r\n    } catch (error) {\r\n      console.error('Translation error:', error);\r\n      return text; // Zwróć oryginalny tekst w przypadku błędu\r\n    }\r\n  };\r\n\r\n  const changeLanguage = async (newLanguage) => {\r\n    console.log('changeLanguage called with:', newLanguage, 'current:', currentLanguage);\r\n    if (newLanguage === currentLanguage) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      if (newLanguage === 'pl') {\r\n        // Dla polskiego ustawiamy pusty obiekt tłumaczeń\r\n        setTranslations({});\r\n      } else {\r\n        // Dla innych języków tłumacz wszystkie teksty\r\n        const newTranslations = {};\r\n        for (const [key, polishText] of Object.entries(textsToTranslate)) {\r\n          newTranslations[key] = await translateText(polishText, newLanguage);\r\n        }\r\n        setTranslations(newTranslations);\r\n      }\r\n      \r\n      setCurrentLanguage(newLanguage);\r\n      localStorage.setItem('appLanguage', newLanguage);\r\n      setUpdateKey(prevKey => prevKey + 1);\r\n      console.log('Language changed to:', newLanguage);\r\n    } catch (error) {\r\n      console.error('Language change error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const t = (key) => {\r\n    console.log('t() called with key:', key, 'currentLanguage:', currentLanguage);\r\n    if (currentLanguage === 'pl') {\r\n      const result = textsToTranslate[key] || key;\r\n      console.log('Polish result:', result);\r\n      return result;\r\n    }\r\n    const result = translations[key] || textsToTranslate[key] || key;\r\n    console.log('Translation result:', result);\r\n    return result;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Sprawdź zapisany język lub ustaw polski jako domyślny\r\n    let savedLanguage = localStorage.getItem('appLanguage');\r\n    console.log('Initial savedLanguage:', savedLanguage);\r\n    if (!savedLanguage) {\r\n      savedLanguage = 'pl';\r\n      localStorage.setItem('appLanguage', 'pl');\r\n      console.log('Set default language to pl');\r\n    }\r\n    console.log('Setting currentLanguage to:', savedLanguage);\r\n    setCurrentLanguage(savedLanguage);\r\n    \r\n    // Dla polskiego ustawiamy pusty obiekt tłumaczeń\r\n    if (savedLanguage === 'pl') {\r\n      console.log('Setting empty translations for Polish');\r\n      setTranslations({});\r\n    } else {\r\n      // Dla innych języków ładujemy tłumaczenia\r\n      const loadTranslations = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n          const newTranslations = {};\r\n          for (const [key, polishText] of Object.entries(textsToTranslate)) {\r\n            newTranslations[key] = await translateText(polishText, savedLanguage);\r\n          }\r\n          console.log('Loaded translations for', savedLanguage, ':', newTranslations);\r\n          setTranslations(newTranslations);\r\n        } catch (error) {\r\n          console.error('Initial translation loading error:', error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n      loadTranslations();\r\n    }\r\n  }, []);\r\n\r\n  // Tłumaczenie quizu (tytuł, opis, pytania, opcje)\r\n  const translateQuiz = async (quiz, targetLang) => {\r\n    if (!quiz || targetLang === quiz.language) return quiz;\r\n    const translatedQuiz = { ...quiz };\r\n    try {\r\n      // Tłumacz tytuł i opis\r\n      translatedQuiz.title = await translateText(quiz.title, targetLang);\r\n      translatedQuiz.description = await translateText(quiz.description, targetLang);\r\n      // Tłumacz pytania i opcje\r\n      translatedQuiz.questions = await Promise.all(\r\n        quiz.questions.map(async (q) => ({\r\n          ...q,\r\n          question: await translateText(q.question, targetLang),\r\n          options: await Promise.all(q.options.map(opt => translateText(opt, targetLang)))\r\n        }))\r\n      );\r\n      translatedQuiz.language = targetLang;\r\n    } catch (error) {\r\n      console.error('Quiz translation error:', error);\r\n    }\r\n    return translatedQuiz;\r\n  };\r\n\r\n  const value = {\r\n    currentLanguage,\r\n    changeLanguage,\r\n    t,\r\n    isLoading,\r\n    translateQuiz,\r\n    availableLanguages,\r\n    updateKey\r\n  };\r\n\r\n  return (\r\n    <TranslationContext.Provider value={value}>\r\n      {children}\r\n    </TranslationContext.Provider>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}